<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Validation Tool</title>
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="description"
      content="Datta Able Bootstrap admin template made using Bootstrap 4 and it has huge amount of ready made feature, UI components, pages which completely fulfills any dashboard needs."
    />
    <meta
      name="keywords"
      content="admin templates, bootstrap admin templates, bootstrap 4, dashboard, dashboard templets, sass admin templets, html admin templates, responsive, bootstrap admin templates free download,premium bootstrap admin templates, datta able, datta able bootstrap admin template, free admin theme, free dashboard template"
    />
    <meta name="author" content="CodedThemes" />

    <!-- Favicon icon -->
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon" />
    <!-- fontawesome icon -->
    <link
      rel="stylesheet"
      href="assets/fonts/fontawesome/css/fontawesome-all.min.css"
    />
    <!-- animation css -->
    <link
      rel="stylesheet"
      href="assets/plugins/animation/css/animate.min.css"
    />
    <!-- vendor css -->
    <link rel="stylesheet" href="assets/css/style.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>

    <script>
      // Assuming you have axios library included in your project
      // import axios from 'axios';
      let ip = "192.168.2.112";
      let navElements = [];
      function setNavElements(elements) {
        navElements = elements;
      }

      function fetchData() {
        return axios
          .get(`http://${ip}:9090/getEntitiesFromDb`)
          .then((response) => {
            setNavElements(response.data);
            console.log(response.data);
          })
          .catch((error) => {
            console.error("Error fetching data:", error);
          });
      }

      // Call fetchData function
      // fetchData();
    </script>

    <script>
      let dropdown = {};
      function adddropdown(){

        let dropdownKey = document.getElementById("dropdownKey").value;
        console.log("Dropdown Key ",dropdownKey)
        let dropdownValue = document.getElementById("dropdownValue").value;
        console.log("Dropdown Value ",dropdownValue)
        // dropdown.put(dropdownKey,dropdownValue);
        dropdown[dropdownKey] = dropdownValue;
        console.log("Dropdown ",dropdown);
        displayDropdown(); // Call the displayDropdown function here

      }

      function displayDropdown() {
        // Get the dropdownView element
        var dropdownView = document.getElementById("dropdownView");

        // Convert the dropdown object to a string
        var dropdownString = JSON.stringify(dropdown, null, 2);

        // Display the string in the dropdownView element
        dropdownView.textContent = dropdownString;
      }

    </script>



    <!--    <script>-->
    <!--        document.addEventListener('DOMContentLoaded', function () {-->
    <!--            // Get the table and the tbody-->
    <!--            const table = document.getElementById('myTable');-->
    <!--            const tbody = table.querySelector('tbody');-->

    <!--            // Counter for row number-->
    <!--            let rowCount = 0; // Starting from 3 since you already have 3 rows-->

    <!--            // Function to add a new row based on the fields-->
    <!--            function addTableRow(fields) {-->
    <!--                rowCount++;-->
    <!--                const newRow = document.createElement('tr');-->

    <!--                // Customize row creation based on the fields-->
    <!--                fields.forEach(field => {-->
    <!--                    const cell = document.createElement('td');-->
    <!--                    cell.textContent = field.fieldName;-->
    <!--                    newRow.appendChild(cell);-->
    <!--                });-->

    <!--                // Add the row to the table body-->
    <!--                tbody.appendChild(newRow);-->
    <!--            }-->

    <!--            // Attach click event listener to the table-->
    <!--            table.addEventListener('click', function () {-->
    <!--                // You can handle any generic click on the table here if needed-->
    <!--            });-->
    <!--        });-->
    <!--    </script>-->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get the table and the tbody
        const table = document.getElementById("myTable");
        const tbody = table.querySelector("tbody");
        const thead = table.querySelector("thead");


        // Counter for row number
        let rowCount = 0; // Starting from 3 since you already have 3 rows

        // Function to add a new row based on the fields
        // Function to add a new row based on the fields
        window.addTableRow = function (element) {
          // Removew add dropdown button if exists
          let addDropDownButton1 = document.querySelector('#addDropDownButton');
          console.log(addDropDownButton1);
          if (addDropDownButton1) {
            addDropDownButton1.parentNode.removeChild(addDropDownButton1);
          }
          document.getElementById('selected-entity').textContent=element.entityName;
          // console.log("Element: ", element);
          fields = element.fields;
          thead.innerHTML = "";
          tbody.innerHTML = "";
          rowCount = 0;

          const headerRow = document.createElement("tr");

          // Create header cells
          const headerSno = document.createElement("th");
          headerSno.textContent = "Sno";
          headerRow.appendChild(headerSno);

          const headerFieldName = document.createElement("th");
          headerFieldName.textContent = "Field Name";
          headerRow.appendChild(headerFieldName);

          const headerFieldType = document.createElement("th");
          headerFieldType.textContent = "Field Type";
          headerRow.appendChild(headerFieldType);

          const headerConfigCell = document.createElement("th");
          headerConfigCell.textContent = "Config Validation";
          headerRow.appendChild(headerConfigCell);

          // Append header row to thead
          thead.appendChild(headerRow);

          fields.forEach((field) => {
            rowCount++;
            const newRow = document.createElement("tr");
            const sno = document.createElement("td");
            sno.textContent = rowCount;
            // Create two cells for each field
            const cell1 = document.createElement("td");
            cell1.textContent = field.fieldName;

            const cell2 = document.createElement("td");
            cell2.textContent = field.fieldType;

            newRow.appendChild(sno);
            newRow.appendChild(cell1);
            newRow.appendChild(cell2);

            const addButton = document.createElement("button");
            addButton.type = "button";
            addButton.className = "btn btn-outline-primary pd-2 mt-1";
            addButton.textContent = "Configure Validation";
            addButton.onclick = function () {
              // Call openDynamicModal with the desired elements or data
              openDynamicModal(field);
            };
            newRow.appendChild(addButton);

            // Add the row to the table body
            tbody.appendChild(newRow);
          });
        };

        // Attach click event listener to the table
        table.addEventListener("click", function () {
          // You can handle any generic click on the table here if needed
        });
      });
    </script>
    <script>
      window.onload = function () {
        // Assuming navElements is an array of objects
        // const navElements = [
        //     { username: "dashboard", url: "index.html", iconClass: "feather icon-home", displayText: "Dashboard" },
        //     // Add more elements as needed
        // ];

        // Function to dynamically generate list items
        function generateNavList() {
          fetchData().then(() => {
            console.log("Nav elements: ", navElements);
            navElements.forEach((element) => {
              const navList = document.getElementById("navList");
              const listItem = document.createElement("li");
              listItem.setAttribute(
                "data-username",
                "dashboard Default Ecommerce CRM Analytics Crypto Project"
              );
              listItem.className = "nav-item";

              const anchor = document.createElement("a");
              anchor.href = "#";
              // anchor.className = 'nav-link';

              // Attach click event listener to the anchor
              anchor.addEventListener("click", function () {
                // Pass the list of fields to the addTableRow function
                addTableRow(element);
              });

              const iconSpan = document.createElement("span");
              iconSpan.className = "pcoded-micon";
              const icon = document.createElement("i");
              icon.className = "";

              const textSpan = document.createElement("span");
              textSpan.className = "pcoded-mtext";
              textSpan.textContent = element.entityName;

              // Append elements to build the hierarchy
              iconSpan.appendChild(icon);
              anchor.appendChild(iconSpan);
              anchor.appendChild(textSpan);
              listItem.appendChild(anchor);
              navList.appendChild(listItem);
            });
          });
        }

        // Call the function to generate the list
        generateNavList();
      };
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector(".main-body form");

        form.addEventListener("submit", function (event) {
          event.preventDefault();

          const formData = {
            fieldName: document.querySelector(".card-header h5").textContent,
            validationList: [
              {
                validationType: "required",
                validationValue: document.getElementById("required").checked,
              },
            ],
            // text: document.querySelector('.col-md-6 input[type="text"]').value,
            // select: document.getElementById('exampleFormControlSelect1').value,
            // textarea: document.getElementById('exampleFormControlTextarea1').value,
          };

          axios
            .post(`http://${ip}:9090/api/saveField`, formData)
            .then(function (response) {
              console.log(response.data);
              // Handle success, if needed
            })
            .catch(function (error) {
              console.error(error);
              // Handle error, if needed
            });
        });
      });
    </script>
    <script>
      function submitForm() {
        // Get form values
        var required = document.getElementById("isRequired")
          ? document.getElementById("isRequired").checked
          : false;
        var isEmail = document.getElementById("isEmail")
                ? document.getElementById("isEmail").checked
                : false;
        var minValue = document.getElementById("min_value")
          ? document.getElementById("min_value").value
          : "";
        var maxValue = document.getElementById("max_value")
          ? document.getElementById("max_value").value
          : "";
        var regex = document.getElementById("regex")
          ? document.getElementById("regex").value
          : "";
        var minLength = document.getElementById("min_length")
                ? document.getElementById("min_length").value
                : "";
        var maxLength = document.getElementById("max_length")
                ? document.getElementById("max_length").value
                : "";


        // Create JSON object
        var formData = {
          fieldId: document.getElementById("fieldId").value,
          dropDownId : document.getElementById("dropdownSelect").value,
          validations: [
            { validationType: "required", validationValue: required },
            { validationType: "isEmail", validationValue: isEmail },
            { validationType: "min_value", validationValue: minValue },
            { validationType: "max_value", validationValue: maxValue },
            { validationType: "min_length", validationValue: minLength },
            { validationType: "max_length", validationValue: maxLength },
            { validationType: "regex", validationValue: regex },
            {
                validationType: "dropdown",
                validationValue: JSON.stringify(dropdown),
            }
          ],
        };

        // Remove null or empty attributes
        formData.validations = formData.validations.filter(function (
          validation
        ) {
          return (
            validation.validationValue !== null &&
            validation.validationValue !== ""
          );
        });

        console.log(formData);
        // Make API call using Axios
        axios
          .post(`http://${ip}:9090/setValidation`, formData)
          .then(function (response) {
            // Handle success
            console.log(response.data);
          })
          .catch(function (error) {
            // Handle errorf
            console.error(error);
          });
      }
    </script>
    <script>
      function generateModal(content) {
        // Get the modal content container
        const modalContent = document.querySelector(
          "#dynamicModal .modal-content"
        );

        // Clear existing content
        modalContent.innerHTML = "";
        // Create and append new content based on the provided object
        modalContent.innerHTML = content;

        // Show the modal
        $("#dynamicModal").modal("show");
      }
      function getValidation(validations) {
        // for(validations in validations){
        //
        // }
        let vals = ["isRequired","isEmail", "min_value", "max_value", "regex","min_length","max_length","dropdown"];
        console.log("Validations :: ",validations);
        vals.forEach((val) => {
          let validation = validations.find(
            (obj) => obj.validationType === val
          );
          console.log(validation);
          if (validation) {
            console.log(document.getElementById(val));
            if (val === "dropdown") {
              dropdown = JSON.parse(validation.validationValue);
              displayDropdown();
            } else {
              document.getElementById(val).value = validation.validationValue;
            }
            // document.getElementById(val).value = validation.validationValue;
          }

        });
        // let min_value = validations.find(obj => obj.validationType === "min_value");
        // console.log(min_value);
        // console.log(document.getElementById('min_value'));
        // console.log(min_value.validationValue);
        // document.getElementById('min_value').value = min_value.validationValue;
        // console.log(document.getElementById('min_value'));
      }
      function openDynamicModal(field) {
        // Example dynamic modal object
        let min_max_value = ``;
        console.log("field ", field);
        console.log("field type:", field.fieldType);
        // if (
        //   field.fieldType === "long" ||
        //   field.fieldType === "float" ||
        //   field.fieldType === "int"
        // ) {
        //   min_max_value = `<div class="form-group mt-2">
        //                         <label for="exampleInputEmail1">Min Value</label>
        //                         <input type="text" class="form-control" id="min_value" aria-describedby="emailHelp" placeholder="min-value">
        //                     </div>
        //                     <div class="form-group">
        //                         <label for="exampleInputPassword1">Max Value</label>
        //                         <input type="text" class="form-control" id="max_value" placeholder="max-value">
        //                     </div>`;
        // }
        // let min_max_length = ``;
        // if (
        //         !(field.fieldType === "long") &&
        //         !(field.fieldType === "float") &&
        //         !(field.fieldType === "int")
        // ) {
        //   min_max_length = `<div class="form-group mt-2">
        //                                             <label for="exampleInputEmail1">Min Length</label>
        //                                             <input type="text" class="form-control" id="min_length" aria-describedby="emailHelp" placeholder="min-length">
        //                                         </div>
        //                                         <div class="form-group">
        //                                             <label for="exampleInputPassword1">Max Length</label>
        //                                             <input type="text" class="form-control" id="max_length" placeholder="max-length">
        //                                         </div>`;
        // }
        min_max_length = `<div class="form-group mt-2">
                                                    <label for="exampleInputEmail1">Min Length</label>
                                                    <input type="text" class="form-control" id="min_length" aria-describedby="emailHelp" placeholder="min-length">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleInputPassword1">Max Length</label>
                                                    <input type="text" class="form-control" id="max_length" placeholder="max-length">
                                                </div>`;
        min_max_value = `<div class="form-group mt-2">
                                <label for="exampleInputEmail1">Min Value</label>
                                <input type="text" class="form-control" id="min_value" aria-describedby="emailHelp" placeholder="min-value">
                            </div>
                            <div class="form-group">
                                <label for="exampleInputPassword1">Max Value</label>
                                <input type="text" class="form-control" id="max_value" placeholder="max-value">
                            </div>`;
        console.log("min_max", min_max_length);
        formContent = `
            <div class="main-body">
                <div class="page-wrapper">
                    <!-- [ Main Content ] start -->
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5>${field.fieldName}</h5>
                                </div>
                                <div class="card-body">
                                    <h5>Validation controls</h5>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <form>
                                                <input type="hidden" id="fieldId" value="${field.fieldId}">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" checked="checked" id="isRequired">
                                                    <label class="form-check-label" for="flexSwitchCheckDefault">Required</label>
                                                </div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" checked="checked" id="isEmail">
                                                    <label class="form-check-label" for="flexSwitchCheckDefault">Is Email</label>
                                                </div>
                                                ${min_max_value}
                                                ${min_max_length}
                                                <div class="form-group form-check">
                                                    <input type="checkbox" class="form-check-input" id="exampleCheck1">
                                                    <label class="form-check-label" for="exampleCheck1">Check me out</label>
                                                </div>
                                                <button type="button" class="btn btn-primary" onclick="submitForm('${field.fieldId}')">Submit</button>
                                            </form>
                                        </div>
                                        <div class="col-md-6">
                                            <form>
                                                <div class="form-group">
                                                    <label>Regex Pattern</label>
                                                    <input type="text" class="form-control" placeholder="regex" id="regex">
                                                </div>
                                                <div class="form-group">

                                                     <p id="dropdownView"></p>
                                                    </div>
                                                    <div class="form-group">
                                                  <label for="dropdownSelect">Dropdown Select</label>
                                                  <select class="form-control" id="dropdownSelect">
                                                  <option readonly="">None</option>
                                                    <!-- Dropdown options will be added here -->
                                                  </select>
                                                </div>
<!--                                                 <button type="button" class="btn btn-primary mt-2" onclick="setFielddropdown()">Add DropDown</button>-->

                                                    <div class="form-group">
                                                    </div>

                                                <div class="form-group">
                                                    <label for="exampleFormControlTextarea1">Example textarea</label>
                                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `;
        // if (field.fieldType.lower === "String") {
        //   document.getElementById("min_value").style.display = "block";
        //   document.getElementById("max_value").style.display = "block";
        // }
        axios.get(`http://${ip}:9090/getDropDown`)
                .then((response) => {
                  // Get the select element
                  const select = document.getElementById('dropdownSelect');

                  // Populate the select element with the dropdowns
                  response.data.forEach((dropdown, index) => {
                    const option = document.createElement('option');
                    option.value = dropdown.id;
                    option.textContent = dropdown.dropDownName;
                    select.appendChild(option);
                  });
                })
                .catch((error) => {
                  console.error("Error fetching dropdowns:", error);
                });
        const dynamicModalObject = {
          title: "Validation Controls",
          body: formContent,
          footer:
            '<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>',
        };

        // Convert the object properties to an HTML structure
        const modalHTML = `
            <div class="modal-header">
                <h5 class="modal-title">${dynamicModalObject.title}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ${dynamicModalObject.body}
            </div>
            <div class="modal-footer">
                ${dynamicModalObject.footer}
            </div>
        `;

        // Call the function with the generated HTML
        generateModal(modalHTML);
        console.log("validations: ", field.validations);
        getValidation(field.validations);
      }
    </script>
    <style>
      .custom-modal-xl {
        max-width: 90%; /* You can adjust the percentage based on your preference */
      }
    </style>
<!--    Script to generate Dropdown page-->
    <script>

      function generateDropdownPage() {
        const table = document.getElementById("myTable");
        const parentElement = table.parentElement;

        const tbody = table.querySelector("tbody");
        const thead = table.querySelector("thead");

        thead.innerHTML = "";
        tbody.innerHTML = "";

        let addDropDownButton = parentElement.querySelector('#addDropDownButton');

      // If the button does not exist, create and add it
        if (!addDropDownButton) {
          addDropDownButton = document.createElement("button");
          addDropDownButton.type = "button";
          addDropDownButton.id = "addDropDownButton";
          addDropDownButton.className = "btn btn-outline-primary pd-2 mt-1";
          addDropDownButton.textContent = "Add DropDown";
          addDropDownButton.onclick = function () {
            // Call openDynamicModal with the desired elements or data
            openAddDropDownModal();
          };
          parentElement.insertBefore(addDropDownButton, table);
        }

        const headerRow = document.createElement("tr");

        // Create header cells
        const headerSerialCell = document.createElement("th");
        headerSerialCell.textContent = "Serial Number";
        headerRow.appendChild(headerSerialCell);

        const headerNameCell = document.createElement("th");
        headerNameCell.textContent = "Name";
        headerRow.appendChild(headerNameCell);

        const headerFieldsCell = document.createElement("th");
        headerFieldsCell.textContent = "Fields";
        headerRow.appendChild(headerFieldsCell);

        // Append header row to thead
        thead.appendChild(headerRow);

        // Assuming you have axios library included in your project

        axios.get(`http://${ip}:9090/getDropDown`)
                .then((response) => {
                  console.log(response.data);
                  const dropdownData = response.data; // Corrected assignment

                  dropdownData.forEach((dropdown, index) => {
                    // Parse the dropDownFields JSON string into an object
                    const dropDownFields = JSON.parse(dropdown.dropDownFields);

                    // Create a new row
                    const row = document.createElement("tr");

                    // Create a cell for the serial number and add it to the row
                    const snoCell = document.createElement("td");
                    snoCell.textContent = index + 1;
                    row.appendChild(snoCell);

                    // Create a cell for the dropdown name and add it to the row
                    const nameCell = document.createElement("td");
                    nameCell.textContent = dropdown.dropDownName;
                    row.appendChild(nameCell);

                    // Create a cell for the dropdown fields and add it to the row
                    const fieldsCell = document.createElement("td");
                    // Iterate over the dropDownFields object to display key-value pairs
                    let fieldsText = "";
                    for (const key in dropDownFields) {
                      fieldsText += `${key}: ${dropDownFields[key]}, `;
                    }
                    // Remove trailing comma and space
                    fieldsText = fieldsText.slice(0, -2);
                    fieldsCell.textContent = fieldsText;
                    row.appendChild(fieldsCell);

                    const editDropDownButton = document.createElement("button");
                    editDropDownButton.type = "button";
                    editDropDownButton.className = "btn btn-outline-primary pd-2 mt-1";
                    editDropDownButton.textContent = "Edit DropDown";
                    editDropDownButton.onclick = function () {
                      // Call openDynamicModal with the desired elements or data
                      openEditDropDownModal(dropdown);
                    };
                    row.appendChild(editDropDownButton);

                    // Add the row to the table body
                    tbody.appendChild(row);
                  });
                })
                .catch((error) => {
                  console.error("Error fetching data:", error);
                });
      }


    </script>
    <script>
      function generateDropDownModal(content) {
        // Get the modal content container
        const modalContent = document.querySelector(
                "#dynamicModal .modal-content"
        );

        // Clear existing content
        modalContent.innerHTML = "";
        // Create and append new content based on the provided object
        modalContent.innerHTML = content;

        // Show the modal
        $("#dynamicModal").modal("show");
      }
    function openEditDropDownModal(dropdown) {
    // Example dynamic modal object

    console.log("DropDown ", dropdown);

    let formContentDropDown = `
    <div class="main-body">
      <div class="page-wrapper">
        <!-- [ Main Content ] start -->
        <div class="row">
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header">
                <h5>${dropdown.dropDownName}</h5>
              </div>
              <div class="card-body">
                <h5>DropDown controls</h5>
                <hr>
                <div class="row">
                  <div class="col-md-6">
                    <form>
                      <input type="hidden" id="fieldId" value="${dropdown.id}">
                      <div class="form-group">
                        <label>DropDown Name</label>
                        <input type="text" class="form-control" placeholder="DropDOwn Name" id= "dropDownName" value="${dropdown.dropDownName}">
                      </div>
                      <div class="form-group">
                        <label for="exampleFormControlTextarea1">DropDown Fields - Json Object</label>
                        <textarea class="form-control"  id="dropDownFields" rows="5">${dropdown.dropDownFields}</textarea>
                      </div>
                      <button type="button" class="btn btn-primary" onclick="updateDropDown1('${dropdown.id}')">Submit</button>
                    </form>
                  </div>
                  <div class="col-md-6">
                    <form>

                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    `;
    // if (field.fieldType.lower === "String") {
    //   document.getElementById("min_value").style.display = "block";
    //   document.getElementById("max_value").style.display = "block";
    // }

    const dynamicDropDownModalObject = {
    title: "DropDown Controls",
    body: formContentDropDown,
    footer:
    '<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>',
    };

    // Convert the object properties to an HTML structure
    const modalHTML = `
    <div class="modal-header">
      <h5 class="modal-title">${dynamicDropDownModalObject.title}</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      ${dynamicDropDownModalObject.body}
    </div>
    <div class="modal-footer">
      ${dynamicDropDownModalObject.footer}
    </div>
    `;

    // Call the function with the generated HTML
    generateDropDownModal(modalHTML);

    }
    function openAddDropDownModal() {
        // Example dynamic modal object


        let formAddDropDown = `
    <div class="main-body">
      <div class="page-wrapper">
        <!-- [ Main Content ] start -->
        <div class="row">
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header">
              </div>
              <div class="card-body">
                <h5>DropDown controls</h5>
                <hr>
                <div class="row">
                  <div class="col-md-6">
                    <form>
                      <div class="form-group">
                        <label>DropDown Name</label>
                        <input type="text" class="form-control" placeholder="Enter DropDown Name" id="dropDownName">
                      </div>
                      <div class="form-group">
                        <label for="exampleFormControlTextarea1">DropDown Fields - Json Object</label>
                        <textarea class="form-control" id="dropDownFields" rows="5"></textarea>
                      </div>
                      <button type="button" class="btn btn-primary" onclick="addDropDown1()">Submit</button>
                    </form>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    `;
        // if (field.fieldType.lower === "String") {
        //   document.getElementById("min_value").style.display = "block";
        //   document.getElementById("max_value").style.display = "block";
        // }

        const dynamicDropDownModalObject = {
          title: "DropDown Controls - Add DropDown",
          body: formAddDropDown,
          footer:
                  '<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>',
        };

        // Convert the object properties to an HTML structure
        const modalAddDropDownHTML = `
    <div class="modal-header">
      <h5 class="modal-title">${dynamicDropDownModalObject.title}</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      ${dynamicDropDownModalObject.body}
    </div>
    <div class="modal-footer">
      ${dynamicDropDownModalObject.footer}
    </div>
    `;

        // Call the function with the generated HTML
        generateDropDownModal(modalAddDropDownHTML);

      }
      function addDropDown1(){
        let dropDownName = document.getElementById("dropDownName").value;
        let dropDownFields = document.getElementById("dropDownFields").value;
        console.log("DropDown Name ",dropDownName)
        console.log("DropDown Fields ",dropDownFields)
        // dropdown.put(dropdownKey,dropdownValue);
        // dropdown[dropdownKey] = dropdownValue;
        // console.log("Dropdown ",dropdown);
        // displayDropdown(); // Call the displayDropdown function here
        let formData = {
          dropDownName: dropDownName,
          dropDownFields: JSON.parse(dropDownFields)
        }
        console.log(formData);
        axios
                .post(`http://${ip}:9090/setDropDown`, formData)
                .then(function (response) {
                  console.log(response.data);
                  // Handle success, if needed
                })
                .catch(function (error) {
                  console.error(error);
                  // Handle error, if needed
                });
      }
      function updateDropDown1(dropDownId){
        let dropDownName = document.getElementById("dropDownName").value;
        let dropDownFields = document.getElementById("dropDownFields").value;
        console.log("DropDown Name ",dropDownName)
        console.log("DropDown Fields ",dropDownFields)
        // dropdown.put(dropdownKey,dropdownValue);
        // dropdown[dropdownKey] = dropdownValue;
        // console.log("Dropdown ",dropdown);
        // displayDropdown(); // Call the displayDropdown function here
        let formData = {
          dropDownName: dropDownName,
          dropDownFields: JSON.parse(dropDownFields)
        }
        console.log(formData);
        axios
                .post(`http://${ip}:9090/updateDropDown`, formData)
                .then(function (response) {
                  console.log(response.data);
                  // Handle success, if needed
                })
                .catch(function (error) {
                  console.error(error);
                  // Handle error, if needed
                });
      }
    </script>
  </head>

  <body>
    <!-- Modal container -->
    <div
      class="modal fade"
      id="dynamicModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="dynamicModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <!-- Modal content will be dynamically generated here -->
        </div>
      </div>
    </div>
    <!-- [ Pre-loader ] start -->
    <div class="loader-bg">
      <div class="loader-track">
        <div class="loader-fill"></div>
      </div>
    </div>
    <!-- [ Pre-loader ] End -->

    <!-- [ navigation menu ] start -->
    <nav class="pcoded-navbar">
      <div class="navbar-wrapper">
        <div class="navbar-brand header-logo">
          <a href="" class="b-brand">
            <div class="b-bg">
              <i class="feather icon-trending-up"></i>
            </div>
            <span class="b-title">Dynamic Field</span>
          </a>
          <a class="mobile-menu" id="mobile-collapse" href="javascript:"
            ><span></span
          ></a>
        </div>
        <div class="navbar-content scroll-div">
          <ul class="nav pcoded-inner-navbar" id="navList">
              <li class="nav-item pcoded-menu-caption">
                  <label>DropDown Details</label>
              </li>
            <li
            >
              <a class="nav-link" onclick="generateDropdownPage()"
              ><span class="pcoded-micon"
              ><i class="feather icon-server"></i></span
              ><span class="pcoded-mtext">DropDown Details</span></a
              >
            </li>
            </li>
            <!--                    <li data-username="dashboard Default Ecommerce CRM Analytics Crypto Project" class="nav-item">-->
            <!--                        <a href="index.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-home"></i></span><span class="pcoded-mtext">Dashboard</span></a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item pcoded-menu-caption">-->
            <!--                        <label>UI Element</label>-->
            <!--                    </li>-->
            <!--                    <li data-username="basic components Button Alert Badges breadcrumb Paggination progress Tooltip popovers Carousel Cards Collapse Tabs pills Modal Grid System Typography Extra Shadows Embeds" class="nav-item pcoded-hasmenu">-->
            <!--                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Components</span></a>-->
            <!--                        <ul class="pcoded-submenu">-->
            <!--                            <li class=""><a href="bc_button.html" class="">Button</a></li>-->
            <!--                            <li class=""><a href="bc_badges.html" class="">Badges</a></li>-->
            <!--                            <li class=""><a href="bc_breadcrumb-pagination.html" class="">Breadcrumb & paggination</a></li>-->
            <!--                            <li class=""><a href="bc_collapse.html" class="">Collapse</a></li>-->
            <!--                            <li class=""><a href="bc_tabs.html" class="">Tabs & pills</a></li>-->
            <!--                            <li class=""><a href="bc_typography.html" class="">Typography</a></li>-->
            <!--                            <li class=""><a href="icon-feather.html" class="">Feather<span class="pcoded-badge label label-danger">NEW</span></a></li>-->
            <!--                        </ul>-->
            <!--                    </li>-->
            <li class="nav-item pcoded-menu-caption">
              <label>Entity Details</label>
            </li>
            <!--                    <li data-username="form elements advance componant validation masking wizard picker select" class="nav-item">-->
            <!--                        <a href="form_elements.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Form elements</span></a>-->
            <!--                    </li>-->
            <li
              data-username="Table bootstrap datatable footable"
              class="nav-item active"
            >
              <a href="tbl_bootstrap.html" class="nav-link"
                ><span class="pcoded-micon"
                  ><i class="feather icon-server"></i></span
                ><span class="pcoded-mtext">Entities</span></a
              >
            </li>
            <!--                    <li class="nav-item pcoded-menu-caption">-->
            <!--                        <label>Chart & Maps</label>-->
            <!--                    </li>-->
            <!--                    <li data-username="Charts Morris" class="nav-item"><a href="chart-morris.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-pie-chart"></i></span><span class="pcoded-mtext">Chart</span></a></li>-->
            <!--                    <li data-username="Maps Google" class="nav-item"><a href="map-google.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-map"></i></span><span class="pcoded-mtext">Maps</span></a></li>-->
            <!--                    <li class="nav-item pcoded-menu-caption">-->
            <!--                        <label>Pages</label>-->
            <!--                    </li>-->
            <!--                    <li data-username="Authentication Sign up Sign in reset password Change password Personal information profile settings map form subscribe" class="nav-item pcoded-hasmenu">-->
            <!--                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-lock"></i></span><span class="pcoded-mtext">Authentication</span></a>-->
            <!--                        <ul class="pcoded-submenu">-->
            <!--                            <li class=""><a href="auth-signup.html" class="" target="_blank">Sign up</a></li>-->
            <!--                            <li class=""><a href="auth-signin.html" class="" target="_blank">Sign in</a></li>-->
            <!--                        </ul>-->
            <!--                    </li>-->
            <!--                    <li data-username="Sample Page" class="nav-item"><a href="sample-page.html" class="nav-link"><span class="pcoded-micon"><i class="feather icon-sidebar"></i></span><span class="pcoded-mtext">Sample page</span></a></li>-->
            <!--                    <li data-username="Disabled Menu" class="nav-item disabled"><a href="javascript:" class="nav-link"><span class="pcoded-micon"><i class="feather icon-power"></i></span><span class="pcoded-mtext">Disabled menu</span></a></li>-->
          </ul>
        </div>
      </div>
    </nav>
    <!-- [ navigation menu ] end -->

    <!-- [ Header ] start -->
    <header class="navbar pcoded-header navbar-expand-lg navbar-light">
      <div class="m-header">
        <a class="mobile-menu" id="mobile-collapse1" href="javascript:"
          ><span></span
        ></a>
        <a href="index.html" class="b-brand">
          <div class="b-bg">
            <i class="feather icon-trending-up"></i>
          </div>
          <span class="b-title">Datta Able</span>
        </a>
      </div>
      <a class="mobile-menu" id="mobile-header" href="javascript:">
        <i class="feather icon-more-horizontal"></i>
      </a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
          <li>
            <a
              href="javascript:"
              class="full-screen"
              onclick="javascript:toggleFullScreen()"
              ><i class="feather icon-maximize"></i
            ></a>
          </li>
          <li class="nav-item dropdown">
<!--            <a class="dropdown-toggle" href="javascript:" data-toggle="dropdown"-->
<!--              >Dropdown</a-->
<!--            >-->
<!--            <ul class="dropdown-menu">-->
<!--              <li><a class="dropdown-item" href="javascript:">Action</a></li>-->
<!--              <li>-->
<!--                <a class="dropdown-item" href="javascript:">Another action</a>-->
<!--              </li>-->
<!--              <li>-->
<!--                <a class="dropdown-item" href="javascript:"-->
<!--                  >Something else here</a-->
<!--                >-->
<!--              </li>-->
<!--            </ul>-->
          </li>
          <li class="nav-item">
            <div class="main-search">
              <div class="input-group">
                <input
                  type="text"
                  id="m-search"
                  class="form-control"
                  placeholder="Search . . ."
                />
                <a href="javascript:" class="input-group-append search-close">
                  <i class="feather icon-x input-group-text"></i>
                </a>
                <span class="input-group-append search-btn btn btn-primary">
                  <i class="feather icon-search input-group-text"></i>
                </span>
              </div>
            </div>
          </li>
        </ul>
<!--        <ul class="navbar-nav ml-auto">-->
<!--          <li>-->
<!--            <div class="dropdown">-->
<!--              <a-->
<!--                class="dropdown-toggle"-->
<!--                href="javascript:"-->
<!--                data-toggle="dropdown"-->
<!--                ><i class="icon feather icon-bell"></i-->
<!--              ></a>-->
<!--              <div class="dropdown-menu dropdown-menu-right notification">-->
<!--                <div class="noti-head">-->
<!--                  <h6 class="d-inline-block m-b-0">Notifications</h6>-->
<!--                  <div class="float-right">-->
<!--                    <a href="javascript:" class="m-r-10">mark as read</a>-->
<!--                    <a href="javascript:">clear all</a>-->
<!--                  </div>-->
<!--                </div>-->
<!--                <ul class="noti-body">-->
<!--                  <li class="n-title">-->
<!--                    <p class="m-b-0">NEW</p>-->
<!--                  </li>-->
<!--                  <li class="notification">-->
<!--                    <div class="media">-->
<!--                      <img-->
<!--                        class="img-radius"-->
<!--                        src="assets/images/user/avatar-1.jpg"-->
<!--                        alt="Generic placeholder image"-->
<!--                      />-->
<!--                      <div class="media-body">-->
<!--                        <p>-->
<!--                          <strong>John Doe</strong-->
<!--                          ><span class="n-time text-muted"-->
<!--                            ><i class="icon feather icon-clock m-r-10"></i>30-->
<!--                            min</span-->
<!--                          >-->
<!--                        </p>-->
<!--                        <p>New ticket Added</p>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </li>-->
<!--                  <li class="n-title">-->
<!--                    <p class="m-b-0">EARLIER</p>-->
<!--                  </li>-->
<!--                  <li class="notification">-->
<!--                    <div class="media">-->
<!--                      <img-->
<!--                        class="img-radius"-->
<!--                        src="assets/images/user/avatar-2.jpg"-->
<!--                        alt="Generic placeholder image"-->
<!--                      />-->
<!--                      <div class="media-body">-->
<!--                        <p>-->
<!--                          <strong>Joseph William</strong-->
<!--                          ><span class="n-time text-muted"-->
<!--                            ><i class="icon feather icon-clock m-r-10"></i>30-->
<!--                            min</span-->
<!--                          >-->
<!--                        </p>-->
<!--                        <p>Prchace New Theme and make payment</p>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </li>-->
<!--                  <li class="notification">-->
<!--                    <div class="media">-->
<!--                      <img-->
<!--                        class="img-radius"-->
<!--                        src="assets/images/user/avatar-3.jpg"-->
<!--                        alt="Generic placeholder image"-->
<!--                      />-->
<!--                      <div class="media-body">-->
<!--                        <p>-->
<!--                          <strong>Sara Soudein</strong-->
<!--                          ><span class="n-time text-muted"-->
<!--                            ><i class="icon feather icon-clock m-r-10"></i>30-->
<!--                            min</span-->
<!--                          >-->
<!--                        </p>-->
<!--                        <p>currently login</p>-->
<!--                      </div>-->
<!--                    </div>-->
<!--                  </li>-->
<!--                </ul>-->
<!--                <div class="noti-footer">-->
<!--                  <a href="javascript:">show all</a>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </li>-->
<!--          <li>-->
<!--            <div class="dropdown drp-user">-->
<!--              <a-->
<!--                href="javascript:"-->
<!--                class="dropdown-toggle"-->
<!--                data-toggle="dropdown"-->
<!--              >-->
<!--                <i class="icon feather icon-settings"></i>-->
<!--              </a>-->
<!--              <div-->
<!--                class="dropdown-menu dropdown-menu-right profile-notification"-->
<!--              >-->
<!--                <div class="pro-head">-->
<!--                  <img-->
<!--                    src="assets/images/user/avatar-1.jpg"-->
<!--                    class="img-radius"-->
<!--                    alt="User-Profile-Image"-->
<!--                  />-->
<!--                  <span>John Doe</span>-->
<!--                  <a href="auth-signin.html" class="dud-logout" title="Logout">-->
<!--                    <i class="feather icon-log-out"></i>-->
<!--                  </a>-->
<!--                </div>-->
<!--                <ul class="pro-body">-->
<!--                  <li>-->
<!--                    <a href="javascript:" class="dropdown-item"-->
<!--                      ><i class="feather icon-settings"></i> Settings</a-->
<!--                    >-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <a href="javascript:" class="dropdown-item"-->
<!--                      ><i class="feather icon-user"></i> Profile</a-->
<!--                    >-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <a href="message.html" class="dropdown-item"-->
<!--                      ><i class="feather icon-mail"></i> My Messages</a-->
<!--                    >-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <a href="auth-signin.html" class="dropdown-item"-->
<!--                      ><i class="feather icon-lock"></i> Lock Screen</a-->
<!--                    >-->
<!--                  </li>-->
<!--                </ul>-->
<!--              </div>-->
<!--            </div>-->
<!--          </li>-->
<!--        </ul>-->
      </div>
    </header>
    <!-- [ Header ] end -->

    <!-- [ Main Content ] start -->
    <section class="pcoded-main-container">
      <div class="pcoded-wrapper">
        <div class="pcoded-content">
          <div class="pcoded-inner-content">
            <!-- [ breadcrumb ] start -->
<!--            <div class="page-header">-->
<!--              <div class="page-block">-->
<!--                <div class="row align-items-center">-->
<!--                  <div class="col-md-12">-->
<!--                    <div class="page-header-title">-->
<!--                      <h5 class="m-b-10">Bootstrap Basic Tables</h5>-->
<!--                    </div>-->
<!--                    <ul class="breadcrumb">-->
<!--                      <li class="breadcrumb-item">-->
<!--                        <a href="index.html"-->
<!--                          ><i class="feather icon-home"></i-->
<!--                        ></a>-->
<!--                      </li>-->
<!--                      <li class="breadcrumb-item"><a href="#!">Tables</a></li>-->
<!--                      <li class="breadcrumb-item">-->
<!--                        <a href="javascript:">Basic Tables</a>-->
<!--                      </li>-->
<!--                    </ul>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
            <!-- [ breadcrumb ] end -->
            <div class="main-body" id = "main-body">
              <div class="page-wrapper">
                <!-- [ Main Content ] start -->
                <div class="row">
                  <!-- [ Hover-table ] start -->
                  <div class="col-xl-12">
                    <div class="card">
                      <div class="card-header">
                        <h5>Fields - <span id="selected-entity"></span></h5>
                        <!--                                            <span class="d-block m-t-5">use class <code>table-hover</code> inside table element</span>-->
                      </div>
                      <div class="card-block table-border-style">
                        <div class="table-responsive">
                          <table class="table table-hover" id="myTable">
                            <thead>
                              <tr>
                                <th>Sno</th>
                                <th>Field Name</th>
                                <th>Field Type</th>
                                <th>Config Validation</th>
                              </tr>
                            </thead>
                            <tbody>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- [ Hover-table ] end -->
                </div>
                <!-- [ Main Content ] end -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- [ Main Content ] end -->

    <!-- Warning Section Starts -->
    <!-- Older IE warning message -->
    <!--[if lt IE 11]>
      <div class="ie-warning">
        <h1>Warning!!</h1>
        <p>
          You are using an outdated version of Internet Explorer, please upgrade
          <br />to any of the following web browsers to access this website.
        </p>
        <div class="iew-container">
          <ul class="iew-download">
            <li>
              <a href="http://www.google.com/chrome/">
                <img src="assets/images/browser/chrome.png" alt="Chrome" />
                <div>Chrome</div>
              </a>
            </li>
            <li>
              <a href="https://www.mozilla.org/en-US/firefox/new/">
                <img src="assets/images/browser/firefox.png" alt="Firefox" />
                <div>Firefox</div>
              </a>
            </li>
            <li>
              <a href="http://www.opera.com">
                <img src="assets/images/browser/opera.png" alt="Opera" />
                <div>Opera</div>
              </a>
            </li>
            <li>
              <a href="https://www.apple.com/safari/">
                <img src="assets/images/browser/safari.png" alt="Safari" />
                <div>Safari</div>
              </a>
            </li>
            <li>
              <a
                href="http://windows.microsoft.com/en-us/internet-explorer/download-ie"
              >
                <img src="assets/images/browser/ie.png" alt="" />
                <div>IE (11 & above)</div>
              </a>
            </li>
          </ul>
        </div>
        <p>Sorry for the inconvenience!</p>
      </div>
    <![endif]-->
    <!-- Warning Section Ends -->

    <!-- Required Js -->
    <script src="assets/js/vendor-all.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/pcoded.min.js"></script>
  </body>
</html>
